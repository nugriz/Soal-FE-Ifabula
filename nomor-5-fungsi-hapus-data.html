<!DOCTYPE html>
<html>
    <head>
        <title>Menampilkan 10 Post</title>
        <style>
            table, th, td, tr {
                border: 1px solid black;
            }
        </style>
    </head>
    <body>
        <h1>Posts</h1>
        <script>
            // create table with header
            var table = document.createElement('table') 
            var headerRow = table.insertRow()
            var headerUserId = headerRow.insertCell(0)
            var headerId = headerRow.insertCell(1)
            var headerTitle = headerRow.insertCell(2)
            var headerBody = headerRow.insertCell(3)
            var action = headerRow.insertCell(4) // Added for no 5

            headerUserId.textContent = 'User Id'
            headerId.textContent = `Id`
            headerTitle.textContent = `Title`
            headerBody.textContent = `Body`
            action.textContent = 'Action' // Added for no 5
            
            fetch('https://jsonplaceholder.typicode.com/posts')
                .then(res => {
                    return res.json();
                })
                .then(data => {
                    // Insert 10 data to table
                    posts = data.slice(0,10)
                    posts.map( post => {
                        var row = table.insertRow()
                        var userId = row.insertCell(0)
                        var id = row.insertCell(1)
                        var title = row.insertCell(2)
                        var body = row.insertCell(3)
                        var destroy = row.insertCell(4) //Added for no 5

                        userId.textContent = `${post.userId}`
                        id.textContent = `${post.id}`
                        title.textContent = `${post.title}`
                        body.textContent = `${post.body}`
                        // Added for no 5
                        row.id = `${post.id}`
                        destroy.textContent = `delete`
                        destroy.setAttribute('onclick', `deleteData(${post.id})`)
                        }
                    )
                    document.body.appendChild(table);
                })
                .catch(error => {
                    console.error(error);
                });
            // function untuk menghapus salah satu data
            function deleteData(id){
                var row = document.getElementById(id)
                row.remove()
            }
        </script>
    </body>
</html>